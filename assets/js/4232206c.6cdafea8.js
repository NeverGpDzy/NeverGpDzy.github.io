"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[7757],{5396:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>p,frontMatter:()=>c,metadata:()=>s,toc:()=>o});var r=i(4848),t=i(8453);const c={sidebar_position:8},d="2022\u7279\u62db\u9898\uff1a\u5faa\u73af\u4f9d\u8d56",s={id:"2024HPC\u5b66\u4e60\u7b14\u8bb0/2022\u7279\u62db\u9898\uff1a\u5faa\u73af\u4f9d\u8d56",title:"2022\u7279\u62db\u9898\uff1a\u5faa\u73af\u4f9d\u8d56",description:"[TOC]",source:"@site/docs/2024HPC\u5b66\u4e60\u7b14\u8bb0/2022\u7279\u62db\u9898\uff1a\u5faa\u73af\u4f9d\u8d56.md",sourceDirName:"2024HPC\u5b66\u4e60\u7b14\u8bb0",slug:"/2024HPC\u5b66\u4e60\u7b14\u8bb0/2022\u7279\u62db\u9898\uff1a\u5faa\u73af\u4f9d\u8d56",permalink:"/docs/2024HPC\u5b66\u4e60\u7b14\u8bb0/2022\u7279\u62db\u9898\uff1a\u5faa\u73af\u4f9d\u8d56",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:8,frontMatter:{sidebar_position:8},sidebar:"tutorialSidebar",previous:{title:"\u4e01\u81f4\u5b87\u5bd2\u5047\u5b66\u4e60\u6c47\u62a5",permalink:"/docs/2024HPC\u5b66\u4e60\u7b14\u8bb0/\u4e01\u81f4\u5b87\u5bd2\u5047\u5b66\u4e60\u6c47\u62a5"},next:{title:"SuperComputer",permalink:"/docs/category/supercomputer"}},l={},o=[{value:"\u591a\u6b21\u5faa\u73af\u4ee5\u89e3\u51b3\u5faa\u73af\u4f9d\u8d56",id:"\u591a\u6b21\u5faa\u73af\u4ee5\u89e3\u51b3\u5faa\u73af\u4f9d\u8d56",level:2},{value:"\u6838\u5fc3\u4ee3\u7801",id:"\u6838\u5fc3\u4ee3\u7801",level:2},{value:"\u4f18\u5316\u7ed3\u679c",id:"\u4f18\u5316\u7ed3\u679c",level:2},{value:"\u5728\u81ea\u5df1\u7684\u7535\u8111\u4e0a\u7684\u6548\u679c",id:"\u5728\u81ea\u5df1\u7684\u7535\u8111\u4e0a\u7684\u6548\u679c",level:3},{value:"\u5728\u5b66\u6821\u8d85\u7b97\u5e73\u53f0\u4e0a\u7684\u6548\u679c",id:"\u5728\u5b66\u6821\u8d85\u7b97\u5e73\u53f0\u4e0a\u7684\u6548\u679c",level:3}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"2022\u7279\u62db\u9898\u5faa\u73af\u4f9d\u8d56",children:"2022\u7279\u62db\u9898\uff1a\u5faa\u73af\u4f9d\u8d56"}),"\n",(0,r.jsx)(n.p,{children:"[TOC]"}),"\n",(0,r.jsx)(n.h2,{id:"\u591a\u6b21\u5faa\u73af\u4ee5\u89e3\u51b3\u5faa\u73af\u4f9d\u8d56",children:"\u591a\u6b21\u5faa\u73af\u4ee5\u89e3\u51b3\u5faa\u73af\u4f9d\u8d56"}),"\n",(0,r.jsxs)(n.p,{children:["\u6bcf\u6b21\u904d\u5386\u90fd\u5c1d\u8bd5\u66f4\u65b0 ",(0,r.jsx)(n.code,{children:"b_new[i]"})," \u7684\u503c\u3002\u5982\u679c ",(0,r.jsx)(n.code,{children:"b[i] >= i"}),"\uff0c\u5219\u76f4\u63a5\u8d4b\u503c\uff1b\u5982\u679c ",(0,r.jsx)(n.code,{children:"b[i] < i"}),"\uff0c\u5219\u68c0\u67e5 ",(0,r.jsx)(n.code,{children:"b_new[b[i]]"})," \u662f\u5426\u5df2\u66f4\u65b0\uff0c\u5982\u679c\u672a\u66f4\u65b0\uff0c\u5219\u8df3\u8fc7\u6b64\u6b21\u8fed\u4ee3\uff0c\u7b49\u5f85\u4e0b\u4e00\u6b21\u8fed\u4ee3\u518d\u5c1d\u8bd5\u66f4\u65b0\u3002"]}),"\n",(0,r.jsx)("img",{src:"http://picture.nevergpdzy.cn/img_for_Typora/3d0b8629f99dab569c45450f9cc6a7cc.jpg",alt:"3d0b8629f99dab569c45450f9cc6a7cc"}),"\n",(0,r.jsx)("img",{src:"http://picture.nevergpdzy.cn/img_for_Typora/5812207893d42c59d16c3a0512bf8c74.jpg",alt:"5812207893d42c59d16c3a0512bf8c74"}),"\n",(0,r.jsx)(n.h2,{id:"\u6838\u5fc3\u4ee3\u7801",children:"\u6838\u5fc3\u4ee3\u7801"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u521d\u59cb\u5316 ",(0,r.jsx)(n.code,{children:"b_new"})," \u4e3a -1\u3002"]}),"\n",(0,r.jsxs)(n.li,{children:["\u4f7f\u7528 ",(0,r.jsx)(n.code,{children:"do-while"})," \u5faa\u73af\u8fdb\u884c\u591a\u6b21\u904d\u5386\uff0c\u76f4\u5230\u4e00\u4e2a\u904d\u5386\u4e2d\u6ca1\u6709\u4efb\u4f55\u66f4\u65b0\u4e3a\u6b62\u3002"]}),"\n",(0,r.jsx)(n.li,{children:"\u5728\u6bcf\u6b21\u8fed\u4ee3\u4e2d\uff0c\u53ea\u5904\u7406\u5c1a\u672a\u66f4\u65b0\u7684\u5143\u7d20\u3002"}),"\n",(0,r.jsxs)(n.li,{children:["\u5982\u679c ",(0,r.jsx)(n.code,{children:"b[i] >= i"}),"\uff0c\u76f4\u63a5\u8d4b\u503c\u3002"]}),"\n",(0,r.jsxs)(n.li,{children:["\u5982\u679c ",(0,r.jsx)(n.code,{children:"b[i] < i"})," \u4f46 ",(0,r.jsx)(n.code,{children:"b_new[b[i]]"})," \u5df2\u88ab\u66f4\u65b0\uff0c\u4e5f\u8fdb\u884c\u8d4b\u503c\u3002"]}),"\n",(0,r.jsxs)(n.li,{children:["\u4f7f\u7528 ",(0,r.jsx)(n.code,{children:"updated"})," \u53d8\u91cf\u6765\u68c0\u6d4b\u5728\u4e00\u6b21\u904d\u5386\u4e2d\u662f\u5426\u6709\u66f4\u65b0\u3002"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-c",children:"start2 = omp_get_wtime();\n/******************/\n//\u521b\u5efab_new\u6570\u7ec4\nint *b_new = (int *)malloc(sizeof(int) * N);\n\n// \u521d\u59cb\u5316b_new\u6570\u7ec4\u4e3a-1\n#pragma omp parallel for num_threads(10)\nfor (int i = 0; i < N; i += 8) // \u5faa\u73af\u5c55\u5f00\n   {\n        b_new[i] = -1;\n        b_new[i + 1] = -1;\n        b_new[i + 2] = -1;\n        b_new[i + 3] = -1;\n        b_new[i + 4] = -1;\n        b_new[i + 5] = -1;\n        b_new[i + 6] = -1;\n        b_new[i + 7] = -1;\n   }\n\nint updated;\n// do-while\u591a\u6b21\u904d\u5386\u4ee5\u89e3\u51b3\u4f9d\u8d56\ndo {\n    updated = 0;\n    #pragma omp parallel for num_threads(10)\n    for (int i = 0; i < N; i++)\n    {\n        if (b_new[i] == -1) // \u53ea\u5904\u7406\u5c1a\u672a\u66f4\u65b0\u7684\u5143\u7d20\n        {\n            if (b[i] >= i)\n            {\n                b_new[i] = b[b[i]];// \u53d6\u539f\u6570\u7ec4\u5143\u7d20\u8fdb\u884c\u66f4\u65b0\n                updated = 1;\n            }\n            else if (b_new[b[i]] != -1)\n            {\n                b_new[i] = b_new[b[i]];// \u53d6\u65b0\u6570\u7ec4\u5143\u7d20\u8fdb\u884c\u66f4\u65b0\n                updated = 1;\n            }\n        }\n    }\n} while (updated); \n// \u5982\u679c\u8fd9\u6b21\u904d\u5386\u4e2d\u6709\u66f4\u65b0\uff0c\u5219\u7ee7\u7eed\u4e0b\u4e00\u6b21\u904d\u5386\uff0c\u5426\u5219\u8bf4\u660e\u6240\u6709\u4f4d\u7f6e\u90fd\u5df2\u7ecf\u66f4\u65b0\n\n/******************/\nend2 = omp_get_wtime();\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u4f18\u5316\u7ed3\u679c",children:"\u4f18\u5316\u7ed3\u679c"}),"\n",(0,r.jsx)(n.h3,{id:"\u5728\u81ea\u5df1\u7684\u7535\u8111\u4e0a\u7684\u6548\u679c",children:"\u5728\u81ea\u5df1\u7684\u7535\u8111\u4e0a\u7684\u6548\u679c"}),"\n",(0,r.jsx)("img",{src:"http://picture.nevergpdzy.cn/img_for_Typora/image-20240312212407254.png",alt:"image-20240312212407254"}),"\n",(0,r.jsx)("img",{src:"http://picture.nevergpdzy.cn/img_for_Typora/image-20240312212416877.png",alt:"image-20240312212416877"}),"\n",(0,r.jsx)(n.h3,{id:"\u5728\u5b66\u6821\u8d85\u7b97\u5e73\u53f0\u4e0a\u7684\u6548\u679c",children:"\u5728\u5b66\u6821\u8d85\u7b97\u5e73\u53f0\u4e0a\u7684\u6548\u679c"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"http://picture.nevergpdzy.cn/img_for_Typora/image-20240316134053298.png",alt:"image-20240316134053298"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:"http://picture.nevergpdzy.cn/img_for_Typora/image-20240316134116590.png",alt:"image-20240316134116590"})})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>d,x:()=>s});var r=i(6540);const t={},c=r.createContext(t);function d(e){const n=r.useContext(c);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:d(e.components),r.createElement(c.Provider,{value:n},e.children)}}}]);